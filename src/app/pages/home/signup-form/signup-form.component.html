<form
  [formGroup]="signupForm"
  (ngSubmit)="onSubmit()"
  nrcLoader="signupLoader"
  class="rounded-3 border border-primary border-2 bg-glass p-3 pb-0 position-relative shadow-lg"
>
  <h2 class="h3 text-primary mb-3 d-flex gap-2">
    <span class="material-symbols-outlined">list_alt_check</span> Check If You Qualify For Financial Aid
  </h2>

  <div class="row g-2 mb-2">
    <div class="col-12">
      <nrc-form-control name="Name">
        <div class="form-floating">
          <input type="text" class="form-control" formControlName="fullName" placeholder="Your Full Name" autocomplete="off" />
          <label for="fullName">Your Full Name</label>
        </div>
      </nrc-form-control>
    </div>

    <div class="col-12">
      <nrc-form-control name="Email">
        <div class="form-floating">
          <input type="email" class="form-control" formControlName="email" placeholder="Email Address" autocomplete="off" />
          <label for="email">Email Address</label>
        </div>
      </nrc-form-control>
    </div>

    <!-- <div class="col-sm-6">
      <nrc-form-control name="Gender">
        <div class="form-floating">
          <select class="form-select" formControlName="gender" id="gender" aria-label="Gender">
            <option disabled>Select</option>
            <option value="1">Male</option>
            <option value="2">Female</option>
          </select>
          <label for="gender">Gender</label>
        </div>
      </nrc-form-control>
    </div> -->

    @if (showAddressField) {
      <div class="col-12">
        <nrc-form-control name="Street Address">
          <div class="form-floating">
            <input type="text" class="form-control" formControlName="address" placeholder="Address (Optional)" autocomplete="off" />
            <label for="address">Address (Optional)</label>
          </div>
        </nrc-form-control>
      </div>
    }

    <div class="col-12" [ngClass]="{ 'col-sm-5': signupFlow.formFields.length > 3 }">
      <nrc-form-control name="Zip Code">
        <div class="form-floating">
          <input type="text" class="form-control" formControlName="zipCode" placeholder="Zip Code" mask="00000" autocomplete="off" />
          <label for="text">Zip Code</label>
        </div>
      </nrc-form-control>
    </div>

    @if (showDobField) {
      <div class="col-sm-7">
        <nrc-form-control name="Date of Birth">
          <div class="form-floating">
            <input
              type="text"
              class="form-control input-ic-date input-ic-right"
              onkeydown="event.preventDefault()"
              formControlName="dob"
              placeholder="Date of Birth"
              autocomplete="off"
              readonly
              bsDatepicker
              [minDate]="dobMinMaxDates.minDate"
              [maxDate]="dobMinMaxDates.maxDate"
              [bsConfig]="{ adaptivePosition: true, showWeekNumbers: false }"
            />
            <label for="text">Date of Birth</label>
          </div>
        </nrc-form-control>
      </div>
    }

    @if (showPhoneField) {
      <div class="col-12" [ngClass]="{ 'col-md-8': signupFlow.formFields.length <= 4 }">
        <nrc-form-control name="Phone Number">
          <div class="form-floating">
            <input
              type="text"
              mask="(000) 000-0000"
              class="form-control"
              formControlName="phone"
              placeholder="Phone Number (Optional)"
              autocomplete="off"
            />
            <label for="text">Phone Number (Optional)</label>
          </div>
        </nrc-form-control>
      </div>
    }

    <input id="leadid_token" name="universal_leadid" type="hidden" #leadIdToken />
  </div>

  <p>
    I understand the
    <button class="btn btn-flat text-primary align-baseline" type="button" (click)="openDataPoliciesPopupComponent()">data policy</button>
    that govern this site, how my data is used, disclosed, and shared & what I get as a user.
  </p>

  <button class="btn btn-secondary px-md-5 px-4 btn-lg btn-icon w-100" type="submit">
    Check If You Qualify <span class="material-symbols-outlined">arrow_forward</span>
  </button>
  <p class="mt-3 fs-sm">
    <input type="hidden" id="leadid_tcpa_disclosure" />
    <em
      >By clicking "Check If You Qualify", I represent that I am 18+ years of age; I understand that this site is privately owned and is not
      affiliated with, nor endorsed by any government agency, I agree that the personal information I provide you with may be shared with
      third parties for other marketing purposes, and agree to the Terms & Conditions and Privacy Policy; and agree to receive email
      marketing from our Marketing Partners.</em
    >
  </p>

  <div class="text-center">
    <p class="d-inline-flex align-items-center bg-primary text-white px-2 py-1 rounded-top mb-0">
      <span class="material-symbols-outlined">lock_person</span> <span class="ms-1"> Your information is kept 100% confidential.</span>
    </p>
  </div>
</form>
